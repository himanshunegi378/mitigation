(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{7491:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mitigation",function(){return t(158)}])},158:function(e,n,t){"use strict";t.r(n),t.d(n,{QuestionBlock:function(){return p},default:function(){return v}});var i=t(5893),s=t(9008),d=t.n(s),r=t(9457);t(5367);var l=t(7294),o=t(3985),c=t(4056),u=t(8911),x=t(3100),a=t(1052),h=t(6288),f=t(9222);function p(e){let{id:n,question:t,answers:s,selected:d,onAnswerChange:r}=e,[o]=(0,l.useState)(Math.random().toString(36).substring(7));return(0,i.jsxs)("div",{children:[(0,i.jsx)(u.x,{fontSize:"xl",fontWeight:"semibold",children:t}),(0,i.jsx)(x.xu,{pl:"4",children:(0,i.jsx)(a.E,{value:d,children:s.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(h.Y,{value:e.value,id:o+n+e.id,checked:d===e.id,onChange:n=>{r(e)},children:(0,i.jsx)(u.x,{fontSize:"md",fontWeight:"semibold",children:e.text})})},t))})})]})}let j=e=>{let{headers:n,rows:t}=e,i=n.findIndex(e=>"Screen"===e),s=n.findIndex(e=>"Screen Name"===e),d=n.findIndex(e=>"Question #"===e),r=n.findIndex(e=>"Question"===e),l=n.findIndex(e=>"Answer Value"===e),o=n.findIndex(e=>"Answer Text"===e),c=n.findIndex(e=>"Answer MouseOver"===e),u=n.findIndex(e=>"M1015"===e),x=n.findIndex(e=>"M1016"===e),a={};for(let e=0;e<t.length;e++){let n=t[e],h=n[i],f=n[s],p=n[d],j=n[r],v=n[l],m=n[o],_=n[c];n.slice(u,x+1).reduce((e,n)=>e+parseFloat(n),0),a[h]||(a[h]={id:h,text:f,questions:[]});let w=a[h],g=w.questions.find(e=>e.id===p);g?g.answers.push({id:v,text:m,longText:_,value:v}):w.questions.push({id:p,question:j,answers:[{id:v,text:m,longText:_,value:v}]})}return{screens:a}};function v(){let{tableData:e,setTableData:n}=(0,o.Z3)(),[t,s]=(0,l.useState)(void 0),[a,h]=(0,r.x)({});(0,l.useEffect)(()=>{h(j(e).screens)},[h,e]);let v=e=>{let n=Object.values(a).map(e=>({screen_name:e.text,questions_response:e.questions.filter(e=>"selected"in e).map(e=>({question_id:parseInt(e.id),answer_value:parseInt(e.selected)}))})).filter(e=>e.questions_response.length>0);(0,c.YB)({screen_questions:n}).then(s)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d(),{children:[(0,i.jsx)("title",{children:"Create Next App"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("main",{children:[(0,i.jsx)("div",{children:Object.values(a).map((e,n)=>(0,i.jsxs)("div",{children:[(0,i.jsx)(u.x,{fontSize:"3xl",fontWeight:"semibold",style:{position:"sticky",top:0,background:"white",zIndex:1},children:e.text}),(0,i.jsx)(x.xu,{pl:"4",children:e.questions.map((n,t)=>{let s=n=>{h(i=>{i[e.id].questions[t].selected=n.id})};return(0,i.jsx)(p,{...n,onAnswerChange:s},t)})})]},e.id))}),(0,i.jsx)("div",{children:(0,i.jsx)(f.z,{onClick:v,children:"Submit"})}),(0,i.jsx)("div",{children:"object"==typeof t&&(0,i.jsx)("pre",{children:JSON.stringify(t,null,2)})})]})]})}}},function(e){e.O(0,[912,367,774,888,179],function(){return e(e.s=7491)}),_N_E=e.O()}]);